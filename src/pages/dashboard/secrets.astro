---
import { getSession } from 'auth-astro/server';

import DashboarLayout   from '@/layouts/DashboarLayout.astro';
import SecretSection    from '@/components/dashboard/secrets/SecretSection.svelte';

const session = await getSession(Astro.request);

if (!session) {
    return Astro.redirect('/signin');
}
---

<DashboarLayout title="Secrets - GuardianApi">
    <SecretSection client:only="svelte"/>
</DashboarLayout>
